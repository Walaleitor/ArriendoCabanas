<div class="container">
  <h1>Reserva</h1>
  <p>La reserva se considera por noche </p>
  <p>Es decir se considera desde el medio dia de la fecha de inicio, hasta el medio dia del dia de la fecha de termino.</p>
  <%= form_for [@cabin,@reservation]  do |f| %>
  <% if @reservation.errors.any? %>
      <div id="error_explanation">
        <h2>
          <%= pluralize(@reservation.errors.count, "error") %>
        </h2>
        <ul>
          <% @reservation.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <% if @cabin.errors.any? %>
        <div id="error_explanation">
          <h2>
            <%= pluralize(@cabin.errors.count, "error") %>
          </h2>
          <ul>
            <% @cabin.errors.full_messages.each do |msg| %>
              <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

    <p>
      <%=f.label :'Fecha de Entrada'  %></br>
      <%= f.date_field :start_date %>
    </p>
    <p>
      <%=f.label :'Fecha de Salida' %></br>
      <%= f.date_field :end_date %>
    </p>
    <p>
      <%= f.label :'Precio' %>
      <%= f.text_field :price %>

    </p>
    <p>
      <% if @customers.empty? %>
        <p>
          No hay clientes, por favor registra un cliente
            <%= link_to 'Crear Cliente', new_customer_path(@cabin), remote: true , :class  => 'btn btn-info' %>
        </p>
      <% else %>
          <%=f.label :'Cliente' %></br>
          <%= f.collection_select :customer_id, Customer.all, :id, :first_name  , class: "class-bootstrap" %>
            <%= link_to 'Crear Cliente', new_customer_path(@cabin), remote: true , :class  => 'btn btn-info' %>


        <% end %>
    </p>

    <%=f.submit :'Crear Reserva', :class  => 'btn btn-info' %>
    
  <% end %>
</div>
